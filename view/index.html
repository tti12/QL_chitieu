<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Login</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="icon" href="../infor/favicon.png" type="image/x-icon" />
</head>
<body class="center-body">
    <!-- ALERT -->
    <div id="alertBox" class="alert hidden" role="alert" aria-live="polite">
        <span id="alertMessage"></span>
        <button class="close-btn" id="alertClose" aria-label="Đóng">&times;</button>
    </div>

    <!-- AUTH -->
    <div class="auth-wrapper" id="authWrapper">
        <div class="auth-icon" aria-hidden="true">
            <i class="fas fa-user-circle" aria-hidden="true"></i>
        </div>
        <div class="auth-card" id="authCard">
            <!-- LOGIN -->
            <div class="auth-face auth-front">
                <h2>Đăng nhập</h2>
                <div class="input-group">
                    <input type="text" id="loginUser" autocomplete="username" />
                    <label for="loginUser">Tên đăng nhập</label>
                </div>
                <div class="input-group">
                    <input type="password" id="loginPass" autocomplete="current-password" />
                    <label for="loginPass">Mật khẩu</label>
                </div>
                 <button id="loginBtn" aria-label="Đăng nhập"><i class="fas fa-sign-in-alt" aria-hidden="true"></i> Đăng nhập</button>
                      <div class="link" id="toRegister" role="button" aria-label="Tạo tài khoản" title="Tạo tài khoản">
                          <i class="fas fa-user-plus" aria-hidden="true"></i>
                      </div>
            </div>

            <!-- REGISTER -->
            <div class="auth-face auth-back">
                <h2>Đăng ký</h2>
                <div class="input-group">
                    <input type="text" id="regUser" autocomplete="username" />
                    <label for="regUser">Tên đăng nhập</label>
                </div>
                <div class="input-group">
                    <input type="password" id="regPass" autocomplete="new-password" />
                    <label for="regPass">Mật khẩu</label>
                </div>
                <div class="input-group">
                    <input type="text" id="regName" autocomplete="name" />
                    <label for="regName">Họ và tên</label>
                </div>
                <div class="input-group">
                    <input type="email" id="regEmail" autocomplete="email" />
                    <label for="regEmail">Email</label>
                </div>
                    <button id="regBtn" aria-label="Đăng ký"><i class="fas fa-user-plus" aria-hidden="true"></i> Tạo tài khoản</button>
                    <div class="link" id="toLogin" role="button" aria-label="Quay lại đăng nhập" title="Quay lại đăng nhập">
                        <i class="fas fa-arrow-left" aria-hidden="true"></i>
                    </div>
            </div>
        </div>
    </div>

    <!-- MAIN (ẩn khi chưa đăng nhập) -->
    <div id="main" class="hidden">
            <div class="header">
            <h2> <span id="userLabel"></span></h2>
            <div class="header-actions">
                <button id="profileBtn" class="profile-btn hidden" title="Tài khoản"><i class="fas fa-user-circle"></i></button>
                <div id="profilePanel" class="profile-panel hidden" aria-hidden="true">
                    <div class="profile-inner">
                        <div class="profile-avatar"><i class="fas fa-user-circle"></i></div>
                        <div class="profile-info">
                            <div id="profileName" class="profile-name"></div>
                            <div class="profile-email"><i class="fas fa-envelope" style="margin-right:8px;color:rgba(255,255,255,0.7)"></i><span id="profileEmail"></span></div>
                        </div>
                        <button id="profileLogout" class="btn-logout">Đăng xuất</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <nav class="menu">
                <a href="./index.html">Trang Chủ</a>
                <a href="../page/muctieu.html">Mục Tiêu Tiết Kiệm</a>
                <a href="../page/thongke.html">Báo Cáo Thống Kê</a>
            </nav>

            <div class="content-area">
                <section class="container">
                    <div class="info-box">
                        <h2>Thêm Chi Tiêu Mới</h2>
                        <div class="item">
                            <input type="text" id="expenseNameInput" placeholder="Nhập tên khoản chi" />
                        </div>
                        <div class="item">
                            <input type="number" id="expenseInput" placeholder="Nhập số tiền" oninput="updateInfo()" />
                        </div>
                        <div class="item">
                            <input type="date" id="dateInput" />
                        </div>
                        <button class="add-expense-btn" id="addExpenseBtn">Thêm Chi Tiêu</button>
                    </div>

                    <div class="totals-container">
                        <h2>Tổng Chi Tiêu</h2>
                        <p>Hôm nay: <span id="todayTotal">0đ</span></p>
                        <p>Trong tháng: <span id="monthTotal">0đ</span></p>
                    </div>
                </section>

                <section class="expense-list-container">
                    <h2>Chi tiêu theo ngày</h2>
                    <div id="expenseList" aria-live="polite"></div>
                </section>
            </div>
        </div>
    </div>

    <!-- CONFIRM -->
    <div id="confirmBox" class="confirm hidden" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="confirm-inner">
            <p id="confirmMessage">Bạn có chắc muốn xóa khoản chi này?</p>
            <div class="button-group">
                <button id="confirmYes">Xóa</button>
                <button id="confirmNo">Hủy</button>
            </div>
        </div>
    </div>

    <script src="./script.js"></script>
</body>
</html>
